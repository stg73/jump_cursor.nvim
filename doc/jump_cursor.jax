*jump_cursor.jax*                                                *jump_cursor*

                               jump_cursor docs

                                       Type |gO| to see the table of contents.

==============================================================================
導入                                                       *jump_cursor-intro*

楽にカーソル移動をするためのneovimプラグイン
操作方法は `jumpcursor.vim` と同じ

==============================================================================
依存                                                *jump_cursor-dependencies*

luaの `regex` モジュールが必要
リポジトリ: https://github.com/stg73/modules.nvim

==============================================================================
使い方                                                     *jump_cursor-usage*

基本的には `jumpcursor.vim` と同じなので 以下を見たら分かる
https://zenn.dev/skanehira/articles/2022-01-29-vim-cursor-jump#jumpcursor.vim

|select_position.opt().set_cursor()| を実行する -> バッファがラベルで塗り潰される
移動したい位置のラベルを入力する -> バッファがラベルで塗り潰される
移動したい位置のラベルを入力する -> その位置にカーソルが移動する

例: "|" はカーソル

最初
>
    h|oge
    fugafugafuga
    piyo piyo
<
|select_position.opt().set_cursor()| を実行
>
    a|aaa
    aoooootttttn
    nnnn ssss
<
"a"を入力
>
    a|otn
    sugafugafuga
    piyo piyo

"s"を入力 カーソルが移動する
>
    hoge
    |fugafugafuga
    piyo piyo
<

カスタマイズなどについては |select_position.opt()| を参照

==============================================================================
jumpcursor.vim との違い                              *jump_cursor-differences*

マルチバイトに対応している

カスタマイズできる:
    ハイライトグループ
    無視する文字
    ラベル (これは `jumpcursor.vim` でもできる)

カスタマイズにグローバル変数を使わず引数を使う

行を無視するので 一切の無駄なくマークを割り当てることが可能

luaモジュールである

関数の参照透過性が高い

==============================================================================
関数                                                   *jump_cursor-functions*

select_position.opt({opts})                            *select_position.opt()*
    オプションを設定する

    例: >lua
        -- カーソルを移動
        require("select_position").opt().set_cursor()
        -- 挙動をカスタマイズ
        require("select_position").opt({
            hl_group = "error", -- エラーの色でハイライトする
            character = ".", -- 全ての文字にジャンプする
            marks = "1234567890", -- ジャンプに使う文字
        }).set_cursor()
        -- キーマップして使う
        vim.keymap.set({"n","v"},"<leader>j",
        require("select_position").opt().set_cursor)
<

    引数: ~
        {opts}  (`table?`) オプション 以下を含む
                • {hl_group}? (`string|number`, 既定: `"special"`)
                  ハイライトグループ
                • {marks}? (`string`, 既定: `"aotnsiu-kwr,dhvcef.yl;gmjxzbpqAOTNSIU=KWR<DHVCEF>YL+GMJXZBPQ"`)
                  シングルバイト文字の列 既定値は大西配列で入力しやすい順
                • {character}? (`string`, 既定: `"/S"`) ジャンプする文字
                  モジュール `regex` の形式の正規表現
                • {namespace}? (`string`, 既定: `"select_position"`)
                  |extmark| に使う |namespace|

    返り値: ~
        (`table`) 以下を含む

------------------------------------------------------------------------------
主要

select_position({buf},{start},{end}) *select_position.opt().select_position()*
    バッファ内の位置を選択する

    引数: ~
      • {buf}    (`integer`) バッファ
      • {start}  (`integer`) 開始行
      • {end}    (`integer`) 終了行

    返り値: ~
        (`integer[]`) 選択された位置  |nvim_win_set_cursor()| の形式

set_cursor({window},{set_win})            *select_position.opt().set_cursor()*
    カーソルを移動する

    |select_position.opt().select_position()| で位置を選択し
    |nvim_win_set_cursor()| でその位置に移動する

    引数: ~
      • {window}   (`integer?`, 既定: `0`) ウィンドウ
                   |window-ID| もしくは 現在のウィンドウを表す 0
      • {set_win}  (`boolean?`, 既定: `false`) ウィンドウも移動する

------------------------------------------------------------------------------
その他

get_positions({str},{start})           *select_position.opt().get_positions()*
    文字列からカーソルを移動できる位置のリストを取得する

    引数: ~
      • {str}    (`string`) 文字列
      • {start}  (`integer`) 開始行

    返り値: ~
        (`integer[][]`) 位置のリスト  |nvim_win_set_cursor()| の形式

mark_to_number({mark})                *select_position.opt().mark_to_number()*
    マークをインデックスに変換する

    引数: ~
      • {mark}  (`string`) {marks} に含まれる文字

    返り値: ~
        (`integer|inf`) {mark} の {marks} の中での位置
                      {marks} の中に存在しない場合は `inf`

------------------------------------------------------------------------------
マーク周り

set_extmark({buf},{pos},{index})         *select_position.opt().set_extmark()*
    バッファ内の位置を指定してマークで塗り潰す
    |nvim_buf_set_extmark()| のラッパー

    引数: ~
      • {buf}    (`integer`) バッファ
      • {pos}    (`integer[]`) 位置  |nvim_win_set_cursor()| の形式
      • {index}  (`integer`)

    返り値: ~
        (`integer`) 作成された |extmark| のID

    参照: ~
      • |nvim_buf_set_extmark()|

clear_namespace({buf},{start},{end}) *select_position.opt().clear_namespace()*
    |nvim_buf_clear_namespace()| のラッパー

    引数: ~
      • {buf}    (`integer`) バッファ
      • {start}  (`integer`) 開始行
      • {end}    (`integer`) 終了行

    参照: ~
      • |nvim_buf_clear_namespace()|


 vim:tw=78:ts=8:sw=4:sts=4:et:ft=help:norl:
